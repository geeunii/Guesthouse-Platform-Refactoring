## 💡 PR 제목
> feat: [JHW] 쿠폰 캐시/검증 보완 및 배너/스크립트 정리

---

## 🔗 관련 이슈
- Refs/Closes: #

---

## 📌 작업 내용 요약
- [x] Redis 캐시 직렬화에 `JavaTimeModule` 등록 + ObjectMapper 일관화
- [x] 쿠폰 발급/조회 캐시 보완 및 선착순 초기화 효율화
- [x] 예약 생성 시 쿠폰 숙소 제한/최소금액/만료/소유 검증 추가
- [x] 숙소 예약 화면에서 숙소 전용 쿠폰 필터링 적용
- [x] 이미지 배너 경로/높이 조정 및 EventCarousel 연결 정리
- [x] NCP/DB 스크립트 환경변수화 및 보안 정리

---

## 🧱 변경 범위 (Scope)
### Backend
- [x] API 추가/수정
- [x] Validation/예외처리
- [ ] 인증/인가
- [ ] DB 스키마/쿼리
- [x] 기타: Redis 캐시/직렬화, 스크립트 보안

### Frontend
- [ ] UI/라우팅
- [x] 상태관리/비동기 로직
- [x] 입력값/검증
- [x] 기타: 배너 경로/높이 조정

---

## 🧪 테스트 내역
### Backend
- [x] 로컬에서 애플리케이션 실행 확인
- [ ] 단위 테스트 통과
- [x] API 수동 테스트 (Postman / Swagger 등)

### Frontend
- [ ] `npm run dev` 로컬 실행 확인
- [x] 주요 화면/기능 수동 테스트

### 테스트 상세(필수)
- 쿠폰 목록/발급 API 호출 시 Redis 직렬화 오류 재현 여부 확인
- 숙소 전용 쿠폰이 다른 숙소 예약에 적용되지 않는지 확인

---

## 🖼️ 화면 캡처 / 시연 영상 (Frontend 변경 시 권장)
- before:
- after:

---

## ⚠️ 영향도 / 리스크 / 롤백
- 영향도: 쿠폰 캐시 직렬화 및 예약 단계 쿠폰 검증 로직 변경
- 리스크: 캐시 포맷 변경으로 기존 캐시 데이터와의 호환성 문제 가능
- 롤백 방법: Redis 직렬화 설정/검증 로직 이전 상태로 revert

---

## ✅ 리뷰어 체크 포인트 (선택)
- 예약 생성 시 쿠폰 검증(숙소 전용/최소금액/만료/소유) 로직 적절성
- Redis 캐시 직렬화 설정이 다른 캐시에 영향 없는지
- 선착순 쿠폰 초기화 방식의 성능/안전성

---

## ✨ 제안 내용 요약
- 쿠폰 캐시/검증 안정화 및 숙소 전용 쿠폰 오용 방지

---

## 🎯 목표 / 완료 조건 (Acceptance Criteria)
- [ ] 쿠폰 목록 API 호출 시 Redis 직렬화 오류가 발생하지 않는다
- [ ] 숙소 전용 쿠폰이 다른 숙소 예약에서 표시/적용되지 않는다
- [ ] 쿠폰 발급 후 쿠폰함 반영 지연이 없다(캐시 무효화 확인)
- [ ] 배너 이미지가 지정 높이에서 정상 표시된다

---

## 📌 상세 설명

### 📂 도메인
- 현재 상황:
  - Redis 캐시 직렬화 오류로 LocalDateTime 저장 실패
  - 숙소 전용 쿠폰이 다른 숙소 예약에서도 선택/적용 가능
  - NCP/DB 스크립트에 하드코딩된 민감 정보 존재
- 개선 내용:
  - Redis 직렬화 설정 보강 및 캐시 무효화 개선
  - 예약 생성 단계에서 쿠폰 검증(숙소/소유/만료/최소금액) 추가
  - 프론트에서 숙소 전용 쿠폰 필터링
  - 스크립트 환경변수화, 배너 경로/높이 정리
- 기대 효과:
  - 쿠폰 적용 오류 및 보안 리스크 감소, 예약/쿠폰 UX 안정화

---

## 🧱 작업 범위 (Scope)

### Backend
- [ ] API 추가
- [x] 기존 API 수정
- [ ] DB 스키마 변경
- [x] 테스트 코드(선택)
- [x] 기타

### Frontend
- [ ] 화면(UI) 추가
- [x] 기존 화면 수정
- [x] 상태 관리 로직 수정
- [x] 기타

---

## 🔗 관련 이슈 / 화면 (선택)
- 관련 이슈: #
- 관련 화면: 예약 페이지/이벤트 배너
- 참고 링크: -

---

## ✅ 체크리스트
- [ ] 팀원과 간단히 논의 완료
- [ ] 우선순위(긴급/보통/나중에) 이야기됨
- [ ] 디자인/기획 이슈가 필요한 경우 정리됨
- [ ] 완료 조건(AC)을 2~5개 작성함

---

## 🧾 진행 로그 (작업 중/마감 시 댓글로 남기기)
- 오늘 진행: Redis 직렬화/캐시 보강, 쿠폰 검증 로직 추가, 배너 정리, 스크립트 보안 처리
- 남은 작업: 이미지 리사이징/업로드 파이프라인 검증
- Blocker(있으면): 인프라/환경 변수 셋업 필요
- 다음 액션(내일 할 것): 리사이징 파이프라인 재검증 및 쿠폰 플로우 테스트

---

## 🔀 PR 연결 규칙 (중요)
- 진행 중(일부만 반영): `Refs #이슈번호`
- 완료(이슈 닫아도 됨): `Closes #이슈번호` ✅ **완전히 끝났을 때만**
